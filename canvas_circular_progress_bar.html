<!DOCTYPE html>
<html>
  <head>
    <style rel="stylesheet" type="text/css">
      .container {
        position: relative;
        text-align: center;
        width: 102px;
        height: 102px;
        line-height: 102px;
      }
      .text {
        z-index: 2;
      }
      #myCanvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <canvas id="myCanvas" width="102" height="102">
        Your browser does not support the HTML5 canvas tag.
      </canvas>
      <div class="text">8:29</div>
    </div>

    <script>
      function drawCircleTime(width, height, lineWidth, full, remaining) {
        var cx = width/2;
        var cy = height/2;
        var radius = cx - lineWidth/2;
        var pct = remaining / full;
        var stop = (1 - pct) * 2 * Math.PI;
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        ctx.clearRect(0, 0, width, height);
        ctx.strokeStyle="#f0f0f5";
        ctx.lineWidth = 4;
        ctx.beginPath();
        ctx.arc(cx,cy,radius,0,stop);
        ctx.stroke();
        ctx.beginPath();
        ctx.strokeStyle="#FF0000";
        ctx.arc(cx,cy,radius,stop,2*Math.PI);
        ctx.stroke();
      }

      drawCircleTime(102, 102, 5, 200, 150);
      setTimeout(function() {
        drawCircleTime(102, 102, 5, 200, 100);
      }, 1500);
    </script>
  </body>
</html>
